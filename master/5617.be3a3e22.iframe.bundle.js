(globalThis.webpackChunk_jetbrains_ring_ui=globalThis.webpackChunk_jetbrains_ring_ui||[]).push([[5617],{"./src/table/table.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{i:()=>Table,Z:()=>TableContainer});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),lib=__webpack_require__("./node_modules/react-movable/lib/index.js"),focus_sensor_hoc=__webpack_require__("./src/global/focus-sensor-hoc.tsx"),get_uid=__webpack_require__("./src/global/get-uid.ts"),shortcuts=__webpack_require__("./src/shortcuts/shortcuts.ts"),loader=__webpack_require__("./src/loader/loader.tsx"),selection=__webpack_require__("./src/table/selection.ts"),es=__webpack_require__("./node_modules/react-waypoint/es/index.js"),checkbox_checkbox=__webpack_require__("./src/checkbox/checkbox.tsx"),table=__webpack_require__("./src/table/table.css"),table_default=__webpack_require__.n(table),unsorted_10px=__webpack_require__("./node_modules/@jetbrains/icons/unsorted-10px.js"),unsorted_10px_default=__webpack_require__.n(unsorted_10px),chevron_10px=__webpack_require__("./node_modules/@jetbrains/icons/chevron-10px.js"),chevron_10px_default=__webpack_require__.n(chevron_10px),icon=__webpack_require__("./src/icon/icon.tsx"),data_tests=__webpack_require__("./src/global/data-tests.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}class HeaderCell extends react.PureComponent{static propTypes={children:prop_types_default().any,className:prop_types_default().string,column:prop_types_default().object.isRequired,onSort:prop_types_default().func,sortKey:prop_types_default().string,sortOrder:prop_types_default().bool,"data-test":prop_types_default().string};static defaultProps={onSort:()=>{}};sortable;sorted;onClick=()=>{if(this.sortable){const{column,onSort,sortOrder}=this.props;onSort({column,order:!(this.sorted&&sortOrder)})}};onChildrenClick(e){e.stopPropagation()}render(){const{className,column,onSort,sortKey,sortOrder,"data-test":dataTest,...restProps}=this.props;this.sortable=!0===column.sortable,this.sorted=sortKey===column.id;const glyph=this.sorted?chevron_10px_default():unsorted_10px_default(),classes=classnames_default()(className,column.headerClassName,{[table_default().headerCell]:!0,[table_default().headerCellSortable]:this.sortable,[table_default().headerCellSorted]:this.sorted,[table_default().sortedUp]:sortOrder&&this.sorted,[table_default().cellRight]:column.rightAlign});return react.createElement("th",_extends({},restProps,{className:classes,onClick:this.onClick,"data-test":(0,data_tests.Z)("ring-table-header-cell",dataTest)}),react.createElement("span",{onClick:this.onChildrenClick,role:"presentation"},this.props.children),column.getHeaderValue?column.getHeaderValue():column.title,this.sortable&&react.createElement("span",{className:table_default().sorter},react.createElement(icon.ZP,{glyph,className:table_default().icon})))}}function header_extends(){return header_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},header_extends.apply(this,arguments)}HeaderCell.__docgenInfo={description:"",methods:[{name:"onClick",docblock:null,modifiers:[],params:[],returns:null},{name:"onChildrenClick",docblock:null,modifiers:[],params:[{name:"e",type:{name:"SyntheticEvent",alias:"SyntheticEvent"}}],returns:null}],displayName:"HeaderCell",props:{onSort:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:"",tsType:{name:"signature",type:"function",raw:"(params: SortParams) => void",signature:{arguments:[{name:"params",type:{name:"SortParams"}}],return:{name:"void"}}}},children:{type:{name:"any"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""},column:{type:{name:"object"},required:!0,description:"",tsType:{name:"Column"}},sortKey:{type:{name:"string"},required:!1,description:"",tsType:{name:"union",raw:"string | null | undefined",elements:[{name:"string"},{name:"null"},{name:"undefined"}]}},sortOrder:{type:{name:"bool"},required:!1,description:"",tsType:{name:"union",raw:"boolean | null | undefined",elements:[{name:"boolean"},{name:"null"},{name:"undefined"}]}},"data-test":{type:{name:"string"},required:!1,description:"",tsType:{name:"union",raw:"string | null | undefined",elements:[{name:"string"},{name:"null"},{name:"undefined"}]}}},composes:["ThHTMLAttributes"]},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/table/header-cell.tsx"]={name:"HeaderCell",docgenInfo:HeaderCell.__docgenInfo,path:"src/table/header-cell.tsx"});class Header extends react.PureComponent{static propTypes={caption:prop_types_default().string,selectable:prop_types_default().bool,draggable:prop_types_default().bool,checked:prop_types_default().bool,checkboxDisabled:prop_types_default().bool,sticky:prop_types_default().bool,topStickOffset:prop_types_default().string,onCheckboxChange:prop_types_default().func,columns:prop_types_default().array.isRequired,onSort:prop_types_default().func,sortKey:prop_types_default().string,sortOrder:prop_types_default().bool};static defaultProps={selectable:!0,draggable:!1,checked:!0,sticky:!0,topStickOffset:"0px",onSort:()=>{},onCheckboxChange:()=>{},sortKey:"id",sortOrder:!0};state={fixed:!1,headerWidth:void 0,widths:[]};id=(0,get_uid.Z)("table-header-");onCheckboxFocus=event=>{event.currentTarget.blur()};_columnsRowNode;storeColumnsRowNode=node=>{node&&(this._columnsRowNode=node,this.calculateColumnsWidths(node))};onScrollIn=()=>{this.calculateColumnsWidths(this._columnsRowNode),this.setState({fixed:!1})};onScrollOut=_ref=>{let{currentPosition}=_ref;"above"===currentPosition&&(this.calculateColumnsWidths(this._columnsRowNode),this.setState({fixed:!0}))};calculateColumnsWidths(columnsRowNode){var _columnsRowNode$child;this.setState({headerWidth:columnsRowNode?.clientWidth,widths:[...null!==(_columnsRowNode$child=columnsRowNode?.childNodes)&&void 0!==_columnsRowNode$child?_columnsRowNode$child:[]].map((column=>column instanceof Element?column.clientWidth:0))})}createCells(){let widths=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const{selectable,draggable,columns,checked,checkboxDisabled,onCheckboxChange,onSort,sortKey,sortOrder}=this.props,metaColumnClasses=classnames_default()(table_default().metaColumn,table_default().headerMetaColumn),metaColumn=react.createElement("div",{className:metaColumnClasses},selectable&&react.createElement(checkbox_checkbox.Z,{"aria-labelledby":this.id,disabled:checkboxDisabled,checked,onChange:onCheckboxChange,onFocus:this.onCheckboxFocus}));return columns.map(((column,index)=>{const columnStyle=widths[index]?{width:widths[index]}:void 0,props={column,onSort,sortKey,sortOrder,style:columnStyle};return react.createElement(HeaderCell,header_extends({key:column.id,"data-test":column.id},props),0===index&&(draggable||selectable)&&metaColumn)}))}render(){const{caption,sticky,topStickOffset}=this.props,{fixed,widths,headerWidth}=this.state,regularCells=this.createCells(),waypointChild=react.createElement("tr",{"data-test":"ring-table-header-row"},regularCells.map(((c,i)=>react.createElement("td",{key:i}))));return react.createElement("thead",{id:this.id,"data-test":"ring-table-header",className:table_default().tableHead},caption&&react.createElement("tr",{"data-test":"ring-table-header-row"},react.createElement("th",{className:classnames_default()(table_default().headerCell,table_default().caption),colSpan:regularCells.length+1,"data-test":"ring-table-header-cell"},caption)),sticky&&react.createElement(es.h,{topOffset:topStickOffset,onEnter:this.onScrollIn,onLeave:this.onScrollOut},waypointChild),react.createElement("tr",{className:table_default().subHeader,ref:this.storeColumnsRowNode,"data-test":"ring-table-header-row"},regularCells),fixed&&sticky&&react.createElement("tr",{className:table_default().subHeaderFixed,style:{width:headerWidth,top:topStickOffset},"data-test":"ring-table-header-row"},this.createCells(widths)))}}Header.__docgenInfo={description:"",methods:[{name:"onCheckboxFocus",docblock:null,modifiers:[],params:[{name:"event",type:{name:"SyntheticEvent",elements:[{name:"HTMLElement"}],raw:"SyntheticEvent<HTMLElement>",alias:"SyntheticEvent"}}],returns:null},{name:"storeColumnsRowNode",docblock:null,modifiers:[],params:[{name:"node",type:{name:"union",raw:"HTMLElement | null",elements:[{name:"HTMLElement"},{name:"null"}]}}],returns:null},{name:"onScrollIn",docblock:null,modifiers:[],params:[],returns:null},{name:"onScrollOut",docblock:null,modifiers:[],params:[{name:"{currentPosition}: Waypoint.CallbackArgs",type:{name:"Waypoint.CallbackArgs"}}],returns:null},{name:"calculateColumnsWidths",docblock:null,modifiers:[],params:[{name:"columnsRowNode",type:{name:"union",raw:"HTMLElement | null | undefined",elements:[{name:"HTMLElement"},{name:"null"},{name:"undefined"}]}}],returns:null},{name:"createCells",docblock:null,modifiers:[],params:[{name:"widths",type:null}],returns:null}],displayName:"Header",props:{selectable:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:"",tsType:{name:"boolean"}},draggable:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:"",tsType:{name:"boolean"}},checked:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:"",tsType:{name:"boolean"}},sticky:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:"",tsType:{name:"boolean"}},topStickOffset:{defaultValue:{value:"'0px'",computed:!1},type:{name:"string"},required:!1,description:"",tsType:{name:"string"}},onSort:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:"",tsType:{name:"signature",type:"function",raw:"(params: SortParams) => void",signature:{arguments:[{name:"params",type:{name:"SortParams"}}],return:{name:"void"}}}},onCheckboxChange:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:"",tsType:{name:"ChangeEventHandler",elements:[{name:"HTMLInputElement"}],raw:"ChangeEventHandler<HTMLInputElement>"}},sortKey:{defaultValue:{value:"'id'",computed:!1},type:{name:"string"},required:!1,description:"",tsType:{name:"string"}},sortOrder:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:"",tsType:{name:"boolean"}},caption:{type:{name:"string"},required:!1,description:"",tsType:{name:"union",raw:"string | null | undefined",elements:[{name:"string"},{name:"null"},{name:"undefined"}]}},checkboxDisabled:{type:{name:"bool"},required:!1,description:"",tsType:{name:"union",raw:"boolean | undefined",elements:[{name:"boolean"},{name:"undefined"}]}},columns:{type:{name:"array"},required:!0,description:"",tsType:{name:"unknown"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/table/header.tsx"]={name:"Header",docgenInfo:Header.__docgenInfo,path:"src/table/header.tsx"});var selection_shortcuts_hoc=__webpack_require__("./src/table/selection-shortcuts-hoc.tsx"),disable_hover_hoc=__webpack_require__("./src/table/disable-hover-hoc.tsx"),chevron_right=__webpack_require__("./node_modules/@jetbrains/icons/chevron-right.js"),chevron_right_default=__webpack_require__.n(chevron_right),chevron_down=__webpack_require__("./node_modules/@jetbrains/icons/chevron-down.js"),chevron_down_default=__webpack_require__.n(chevron_down),drag=__webpack_require__("./node_modules/@jetbrains/icons/drag.js"),drag_default=__webpack_require__.n(drag),button_button=__webpack_require__("./src/button/button.tsx"),tooltip=__webpack_require__("./src/tooltip/tooltip.tsx"),composeRefs=__webpack_require__("./src/global/composeRefs.ts");function cell_extends(){return cell_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},cell_extends.apply(this,arguments)}class Cell extends react.PureComponent{static propTypes={children:prop_types_default().any,className:prop_types_default().string,"data-test":prop_types_default().string};render(){const classes=classnames_default()(table_default().cell,this.props.className);return react.createElement("td",cell_extends({},this.props,{className:classes,"data-test":(0,data_tests.Z)("ring-table-cell",this.props["data-test"])}),this.props.children)}}function row_extends(){return row_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},row_extends.apply(this,arguments)}Cell.__docgenInfo={description:"",methods:[],displayName:"Cell",props:{children:{type:{name:"any"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""},"data-test":{type:{name:"string"},required:!1,description:"",tsType:{name:"union",raw:"string | null | undefined",elements:[{name:"string"},{name:"null"},{name:"undefined"}]}}},composes:["TdHTMLAttributes"]},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/table/cell.tsx"]={name:"Cell",docgenInfo:Cell.__docgenInfo,path:"src/table/cell.tsx"});const DragHandle=_ref=>{let{alwaysShowDragHandle,dragHandleTitle="Drag to reorder"}=_ref;const classes=classnames_default()(table_default().dragHandle,{[table_default().visibleDragHandle]:alwaysShowDragHandle});return react.createElement(button_button.ZP,{"data-movable-handle":!0,title:dragHandleTitle,className:classes,icon:drag_default()})};DragHandle.propTypes={alwaysShowDragHandle:prop_types_default().bool,dragHandleTitle:prop_types_default().string};class Row extends react.PureComponent{static defaultProps={selectable:!0,showFocus:!1,draggable:!1,alwaysShowDragHandle:!1,selected:!1,onHover:()=>{},onSelect:()=>{},onDoubleClick:()=>{},onClick:()=>{},level:0,collapsible:!1,parentCollapsible:!1,collapsed:!1,onCollapse:()=>{},onExpand:()=>{}};id=(0,get_uid.Z)("table-row-");onMouseEnter=e=>{const{item,onHover}=this.props;onHover(item,e)};onClick=e=>{const{item}=this.props;this.props.onClick(item,e),e.shiftKey&&this.toggleSelection()};onCheckboxFocus=()=>{this.props.onFocusRestore()};onCheckboxChange=()=>{this.toggleSelection()};toggleSelection(){const{selectable,selected,onSelect,item}=this.props;selectable&&onSelect(item,!selected)}onDoubleClick=()=>{const{item}=this.props;this.props.onDoubleClick(item)};row;rowRef=el=>{this.row=el};render(){const{item,columns,selectable,selected,showFocus,draggable,alwaysShowDragHandle,dragHandleTitle,level,collapsible,parentCollapsible,collapsed,onCollapse,onExpand,showDisabledSelection,onSelect,checkboxTooltip,innerRef,focused,autofocus,onFocusReset,onFocusRestore,onHover,className,metaColumnClassName,"data-test":dataTest,...restProps}=this.props,classes=classnames_default()(className,{[table_default().row]:!0,[table_default().rowFocused]:showFocus,[table_default().rowSelected]:selected}),testAttrs={"data-test-focused":showFocus||void 0,"data-test-selected":selected||void 0},metaColumnClasses=classnames_default()(metaColumnClassName,table_default().metaColumn),metaColumnStyle={paddingLeft:`${30*level+(parentCollapsible?20:0)}px`},metaColumn=react.createElement("div",{className:metaColumnClasses,style:metaColumnStyle},draggable&&react.createElement(DragHandle,{alwaysShowDragHandle,dragHandleTitle}),selectable&&react.createElement(tooltip.Z,{title:checkboxTooltip},react.createElement(checkbox_checkbox.Z,{"aria-labelledby":this.id,className:showFocus?"ring-checkbox_focus":"",checked:selected,onFocus:this.onCheckboxFocus,onChange:this.onCheckboxChange,tabIndex:-1})),!selectable&&showDisabledSelection&&react.createElement(tooltip.Z,{title:checkboxTooltip},react.createElement(checkbox_checkbox.Z,{"aria-labelledby":this.id,checked:selected,disabled:!0})),collapsible&&collapsed&&react.createElement(button_button.ZP,{className:table_default().rowCollapseExpandButton,icon:chevron_right_default(),onClick:()=>onExpand(item)}),collapsible&&!collapsed&&react.createElement(button_button.ZP,{className:table_default().rowCollapseExpandButton,icon:chevron_down_default(),onClick:()=>onCollapse(item)})),cells=columns.map(((column,index)=>{const getValue=column.getValue||(()=>item[column.id]),getDataTest=column.getDataTest||(()=>column.id),value=getValue(item,column),cellClasses=classnames_default()({[table_default().cellRight]:column.rightAlign},column.className),showMetaColumn=draggable||selectable||collapsible||showDisabledSelection||!!level;return react.createElement(Cell,{key:column.id,className:cellClasses,"data-test":getDataTest(item,column)},0===index&&showMetaColumn&&metaColumn,value)}));return react.createElement("tr",row_extends({id:this.id,ref:(0,composeRefs.Z)(this.rowRef,innerRef),className:classes,tabIndex:0,"data-test":(0,data_tests.Z)("ring-table-row",dataTest)},testAttrs,restProps,{onMouseMove:this.onMouseEnter,onClick:this.onClick,onDoubleClick:this.onDoubleClick}),cells)}}function row_with_focus_sensor_extends(){return row_with_focus_sensor_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},row_with_focus_sensor_extends.apply(this,arguments)}Row.propTypes={className:prop_types_default().string,metaColumnClassName:prop_types_default().string,item:prop_types_default().object.isRequired,columns:prop_types_default().array.isRequired,selectable:prop_types_default().bool,showFocus:prop_types_default().bool,draggable:prop_types_default().bool,alwaysShowDragHandle:prop_types_default().bool,selected:prop_types_default().bool,onHover:prop_types_default().func,onSelect:prop_types_default().func,onDoubleClick:prop_types_default().func,onClick:prop_types_default().func,onFocusRestore:prop_types_default().func,level:prop_types_default().number,collapsible:prop_types_default().bool,parentCollapsible:prop_types_default().bool,collapsed:prop_types_default().bool,onCollapse:prop_types_default().func,onExpand:prop_types_default().func,showDisabledSelection:prop_types_default().bool,checkboxTooltip:prop_types_default().string,innerRef:prop_types_default().oneOfType([prop_types_default().func,prop_types_default().object]),focused:prop_types_default().bool,autofocus:prop_types_default().bool,onFocusReset:prop_types_default().func,"data-test":prop_types_default().string},Row.__docgenInfo={description:"",methods:[{name:"onMouseEnter",docblock:null,modifiers:[],params:[{name:"e",type:{name:"ReactMouseEvent",raw:"React.MouseEvent<HTMLTableRowElement>",elements:[{name:"HTMLTableRowElement"}]}}],returns:null},{name:"onClick",docblock:null,modifiers:[],params:[{name:"e",type:{name:"ReactMouseEvent",raw:"React.MouseEvent<HTMLTableRowElement>",elements:[{name:"HTMLTableRowElement"}]}}],returns:null},{name:"onCheckboxFocus",docblock:null,modifiers:[],params:[],returns:null},{name:"onCheckboxChange",docblock:null,modifiers:[],params:[],returns:null},{name:"toggleSelection",docblock:null,modifiers:[],params:[],returns:null},{name:"onDoubleClick",docblock:null,modifiers:[],params:[],returns:null},{name:"rowRef",docblock:null,modifiers:[],params:[{name:"el",type:{name:"union",raw:"HTMLElement | null",elements:[{name:"HTMLElement"},{name:"null"}]}}],returns:null}],displayName:"Row",props:{selectable:{defaultValue:{value:"true",computed:!1},required:!1,tsType:{name:"boolean"},description:""},showFocus:{defaultValue:{value:"false",computed:!1},required:!1,tsType:{name:"boolean"},description:""},draggable:{defaultValue:{value:"false",computed:!1},required:!1,tsType:{name:"boolean"},description:""},alwaysShowDragHandle:{defaultValue:{value:"false",computed:!1},required:!1,tsType:{name:"boolean"},description:""},selected:{defaultValue:{value:"false",computed:!1},required:!1,tsType:{name:"boolean"},description:""},onHover:{defaultValue:{value:"() => {}",computed:!1},required:!1,tsType:{name:"signature",type:"function",raw:"(item: T, e: React.MouseEvent<HTMLTableRowElement>) => void",signature:{arguments:[{name:"item",type:{name:"T"}},{name:"e",type:{name:"ReactMouseEvent",raw:"React.MouseEvent<HTMLTableRowElement>",elements:[{name:"HTMLTableRowElement"}]}}],return:{name:"void"}}},description:""},onSelect:{defaultValue:{value:"() => {}",computed:!1},required:!1,tsType:{name:"signature",type:"function",raw:"(item: T, selected: boolean) => void",signature:{arguments:[{name:"item",type:{name:"T"}},{name:"selected",type:{name:"boolean"}}],return:{name:"void"}}},description:""},onDoubleClick:{defaultValue:{value:"() => {}",computed:!1},required:!1,tsType:{name:"signature",type:"function",raw:"(item: T) => void",signature:{arguments:[{name:"item",type:{name:"T"}}],return:{name:"void"}}},description:""},onClick:{defaultValue:{value:"() => {}",computed:!1},required:!1,tsType:{name:"signature",type:"function",raw:"(item: T, e: React.MouseEvent<HTMLTableRowElement>) => void",signature:{arguments:[{name:"item",type:{name:"T"}},{name:"e",type:{name:"ReactMouseEvent",raw:"React.MouseEvent<HTMLTableRowElement>",elements:[{name:"HTMLTableRowElement"}]}}],return:{name:"void"}}},description:""},level:{defaultValue:{value:"0",computed:!1},required:!1,tsType:{name:"number"},description:""},collapsible:{defaultValue:{value:"false",computed:!1},required:!1,tsType:{name:"boolean"},description:""},parentCollapsible:{defaultValue:{value:"false",computed:!1},required:!1,tsType:{name:"boolean"},description:""},collapsed:{defaultValue:{value:"false",computed:!1},required:!1,tsType:{name:"boolean"},description:""},onCollapse:{defaultValue:{value:"() => {}",computed:!1},required:!1,tsType:{name:"signature",type:"function",raw:"(item: T) => void",signature:{arguments:[{name:"item",type:{name:"T"}}],return:{name:"void"}}},description:""},onExpand:{defaultValue:{value:"() => {}",computed:!1},required:!1,tsType:{name:"signature",type:"function",raw:"(item: T) => void",signature:{arguments:[{name:"item",type:{name:"T"}}],return:{name:"void"}}},description:""},item:{required:!0,tsType:{name:"T"},description:""},columns:{required:!0,tsType:{name:"unknown"},description:""},dragHandleTitle:{required:!1,tsType:{name:"string"},description:""},showDisabledSelection:{required:!1,tsType:{name:"union",raw:"boolean | null | undefined",elements:[{name:"boolean"},{name:"null"},{name:"undefined"}]},description:""},checkboxTooltip:{required:!1,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""},autofocus:{required:!1,tsType:{name:"union",raw:"boolean | null | undefined",elements:[{name:"boolean"},{name:"null"},{name:"undefined"}]},description:""},"data-test":{required:!1,tsType:{name:"union",raw:"string | null | undefined",elements:[{name:"string"},{name:"null"},{name:"undefined"}]},description:""},metaColumnClassName:{required:!1,tsType:{name:"union",raw:"string | null | undefined",elements:[{name:"string"},{name:"null"},{name:"undefined"}]},description:""}},composes:["Omit","FocusSensorAddProps"]},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/table/row.tsx"]={name:"Row",docgenInfo:Row.__docgenInfo,path:"src/table/row.tsx"});class RowWithFocusSensorCallbacks extends react.PureComponent{RowWithFocusSensor=(()=>(0,focus_sensor_hoc.Z)(Row))();onFocus=()=>{this.props.onFocus?.(this.props.item)};onSelect=(item,selected)=>{this.props.onSelect?.(item,selected)};onCollapse=()=>{this.props.onCollapse?.(this.props.item)};onExpand=()=>{this.props.onExpand?.(this.props.item)};render(){return react.createElement(this.RowWithFocusSensor,row_with_focus_sensor_extends({},this.props,{onFocus:this.onFocus,onSelect:this.onSelect,onCollapse:this.onCollapse,onExpand:this.onExpand}))}}function table_extends(){return table_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},table_extends.apply(this,arguments)}RowWithFocusSensorCallbacks.propTypes=Row.propTypes,RowWithFocusSensorCallbacks.__docgenInfo={description:"",methods:[{name:"onFocus",docblock:null,modifiers:[],params:[],returns:null},{name:"onSelect",docblock:null,modifiers:[],params:[{name:"item",type:{name:"T",alias:"T"}},{name:"selected",type:{name:"boolean"}}],returns:null},{name:"onCollapse",docblock:null,modifiers:[],params:[],returns:null},{name:"onExpand",docblock:null,modifiers:[],params:[],returns:null}],displayName:"RowWithFocusSensorCallbacks",props:{onFocus:{required:!1,tsType:{name:"signature",type:"function",raw:"(item: T) => void",signature:{arguments:[{name:"item",type:{name:"T"}}],return:{name:"void"}}},description:""},onSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(item: T, selected: boolean) => void",signature:{arguments:[{name:"item",type:{name:"T"}},{name:"selected",type:{name:"boolean"}}],return:{name:"void"}}},description:""},onCollapse:{required:!1,tsType:{name:"signature",type:"function",raw:"(item: T) => void",signature:{arguments:[{name:"item",type:{name:"T"}}],return:{name:"void"}}},description:""},onExpand:{required:!1,tsType:{name:"signature",type:"function",raw:"(item: T) => void",signature:{arguments:[{name:"item",type:{name:"T"}}],return:{name:"void"}}},description:""}},composes:["Omit"]},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/table/row-with-focus-sensor.tsx"]={name:"RowWithFocusSensorCallbacks",docgenInfo:RowWithFocusSensorCallbacks.__docgenInfo,path:"src/table/row-with-focus-sensor.tsx"});class Table extends react.PureComponent{static defaultProps={isItemSelectable:()=>!0,loading:!1,onSort:()=>{},onReorder:()=>{},getItemKey:item=>item.id,sortKey:"id",sortOrder:!0,draggable:!1,alwaysShowDragHandle:!1,stickyHeader:!0,getItemLevel:()=>0,getItemClassName:()=>null,getMetaColumnClassName:()=>null,getItemDataTest:()=>null,isItemCollapsible:()=>!1,isParentCollapsible:()=>!1,isItemCollapsed:()=>!1,onItemCollapse:()=>{},onItemExpand:()=>{},onItemDoubleClick:()=>{},onItemClick:()=>{},remoteSelection:!1,isDisabledSelectionVisible:()=>!1,getCheckboxTooltip:()=>{}};state={shortcutsScope:(0,get_uid.Z)("ring-table-"),userSelectNone:!1};componentDidMount(){document.addEventListener("mouseup",this.onMouseUp)}componentDidUpdate(_ref){let{data,selection,onSelect,selectable,remoteSelection}=_ref;data!==this.props.data&&remoteSelection&&onSelect(selection.cloneWith({data:this.props.data})),this.props.selectable||this.props.selectable===selectable||onSelect(selection.resetSelection())}componentWillUnmount(){document.removeEventListener("mouseup",this.onMouseUp)}onMouseDown=e=>{e.shiftKey&&this.setState({userSelectNone:!0})};onMouseUp=()=>{this.state.userSelectNone&&this.setState({userSelectNone:!1})};onRowFocus=row=>{const{selection,onSelect}=this.props;onSelect(selection.focus(row))};onRowSelect=(row,selected)=>{const{selection,onSelect}=this.props;onSelect(selected?selection.select(row):selection.deselect(row))};onSortEnd=_ref2=>{let{oldIndex,newIndex}=_ref2;const data=(0,lib.Rp)(this.props.data,oldIndex,newIndex);this.props.onReorder({data,oldIndex,newIndex})};onCheckboxChange=e=>{const{checked}=e.currentTarget,{selection,onSelect}=this.props;onSelect(checked?selection.selectAll():selection.reset()),this.restoreFocusWithoutScroll()};restoreFocusWithoutScroll=()=>{const{scrollX,scrollY}=window;this.props.onFocusRestore(),window.scrollTo(scrollX,scrollY)};render(){const{data,selection,columns,caption,getItemKey,selectable,focused,isItemSelectable,getItemLevel,getItemClassName,getMetaColumnClassName,getItemDataTest,draggable,alwaysShowDragHandle,dragHandleTitle,loading,onSort,sortKey,sortOrder,loaderClassName,stickyHeader,stickyHeaderOffset,isItemCollapsible,isParentCollapsible,isItemCollapsed,onItemCollapse,onItemExpand,isDisabledSelectionVisible,getCheckboxTooltip,onItemDoubleClick,onItemClick,renderEmpty}=this.props,headerProps={caption,selectable,draggable,columns,onSort,sortKey,sortOrder,sticky:stickyHeader,topStickOffset:stickyHeaderOffset},selectedSize=selection.getSelected().size,allSelectedSize=selection.selectAll().getSelected().size;headerProps.checked=selectedSize>0&&selectedSize===allSelectedSize,headerProps.onCheckboxChange=this.onCheckboxChange,headerProps.checkboxDisabled=0===this.props.data.length;const wrapperClasses=classnames_default()({[table_default().tableWrapper]:!0,[table_default().loading]:loading}),classes=classnames_default()(this.props.className,{[table_default().table]:!0,[table_default().multiSelection]:selection.getSelected().size>0,[table_default().userSelectNone]:this.state.userSelectNone,[table_default().disabledHover]:this.props.disabledHover}),renderList=_ref3=>{let{children,props}=_ref3;const empty=react.createElement("tr",null,react.createElement("td",{colSpan:this.props.columns.length||1,className:table_default().tableMessage},renderEmpty?renderEmpty():null)),tbody=Array.isArray(children)&&children.length>0?children:empty;return react.createElement("table",{className:classes,"data-test":"ring-table"},react.createElement(Header,headerProps),react.createElement("tbody",table_extends({},props,{"data-test":"ring-table-body"}),tbody))},renderItem=_ref4=>{let{value,props={},isDragged}=_ref4;if(null==value)return null;const{ref,...restProps}=props,row=react.createElement(RowWithFocusSensorCallbacks,table_extends({innerRef:ref,key:getItemKey(value),level:getItemLevel(value),item:value,showFocus:selection.isFocused(value),autofocus:selection.isFocused(value),focused:selection.isFocused(value),selectable:selectable&&isItemSelectable(value),selected:selectable&&selection.isSelected(value),onFocus:this.onRowFocus,onSelect:this.onRowSelect,onDoubleClick:onItemDoubleClick,onClick:onItemClick,collapsible:isItemCollapsible(value),parentCollapsible:isParentCollapsible(value),collapsed:isItemCollapsed(value),onCollapse:onItemCollapse,onExpand:onItemExpand,showDisabledSelection:isDisabledSelectionVisible(value),checkboxTooltip:getCheckboxTooltip(value),className:classnames_default()(getItemClassName(value),{[table_default().draggingRow]:isDragged}),metaColumnClassName:getMetaColumnClassName(value),draggable,alwaysShowDragHandle,dragHandleTitle,columns,"data-test":getItemDataTest(value)},restProps));return isDragged?react.createElement("table",{style:{...props.style},className:table_default().draggingTable},react.createElement("tbody",null,row)):row};return react.createElement("div",{className:wrapperClasses,"data-test":"ring-table-wrapper",ref:this.props.innerRef},focused&&react.createElement(shortcuts.Z,{map:this.props.shortcutsMap,scope:this.state.shortcutsScope}),react.createElement("div",{role:"presentation",onMouseDown:this.onMouseDown},draggable?react.createElement(lib.aV,{values:data,renderList,renderItem,onChange:this.onSortEnd}):renderList({children:data.map(((value,index)=>renderItem({value,index})))})),loading&&react.createElement("div",{className:table_default().loadingOverlay},react.createElement(loader.Z,{className:loaderClassName})))}}Table.propTypes={className:prop_types_default().string,loaderClassName:prop_types_default().string,data:prop_types_default().array.isRequired,columns:prop_types_default().array.isRequired,caption:prop_types_default().string,isItemSelectable:prop_types_default().func,stickyHeader:prop_types_default().bool,stickyHeaderOffset:prop_types_default().string,loading:prop_types_default().bool,getItemKey:prop_types_default().func,getItemClassName:prop_types_default().func,getMetaColumnClassName:prop_types_default().func,getItemDataTest:prop_types_default().func,onSort:prop_types_default().func,onReorder:prop_types_default().func,sortKey:prop_types_default().string,sortOrder:prop_types_default().bool,draggable:prop_types_default().bool,alwaysShowDragHandle:prop_types_default().bool,getItemLevel:prop_types_default().func,isItemCollapsible:prop_types_default().func,isParentCollapsible:prop_types_default().func,isItemCollapsed:prop_types_default().func,onItemCollapse:prop_types_default().func,onItemExpand:prop_types_default().func,isDisabledSelectionVisible:prop_types_default().func,getCheckboxTooltip:prop_types_default().func,onItemDoubleClick:prop_types_default().func,onItemClick:prop_types_default().func,focused:prop_types_default().bool,onFocusRestore:prop_types_default().func,innerRef:prop_types_default().oneOfType([prop_types_default().object,prop_types_default().string,prop_types_default().func]),selection:prop_types_default().instanceOf(selection.Z).isRequired,selectable:prop_types_default().bool,onSelect:prop_types_default().func,shortcutsMap:prop_types_default().object,disabledHover:prop_types_default().bool,remoteSelection:prop_types_default().bool,renderEmpty:prop_types_default().func};const table_getContainer=()=>(0,disable_hover_hoc.Z)((0,selection_shortcuts_hoc.Z)((0,focus_sensor_hoc.Z)(Table)));class TableContainer extends react.Component{static propTypes=table_getContainer().propTypes;Table=table_getContainer();render(){return react.createElement(this.Table,this.props)}}Table.__docgenInfo={description:"Interactive table with selection and keyboard navigation support.",methods:[{name:"onMouseDown",docblock:null,modifiers:[],params:[{name:"e",type:{name:"ReactMouseEvent",raw:"React.MouseEvent"}}],returns:null},{name:"onMouseUp",docblock:null,modifiers:[],params:[],returns:null},{name:"onRowFocus",docblock:null,modifiers:[],params:[{name:"row",type:{name:"T",alias:"T"}}],returns:null},{name:"onRowSelect",docblock:null,modifiers:[],params:[{name:"row",type:{name:"T",alias:"T"}},{name:"selected",type:{name:"boolean"}}],returns:null},{name:"onSortEnd",docblock:null,modifiers:[],params:[{name:"{oldIndex, newIndex}: OnChangeMeta",type:{name:"OnChangeMeta",alias:"OnChangeMeta"}}],returns:null},{name:"onCheckboxChange",docblock:null,modifiers:[],params:[{name:"e",type:{name:"SyntheticEvent",elements:[{name:"HTMLInputElement"}],raw:"SyntheticEvent<HTMLInputElement>",alias:"SyntheticEvent"}}],returns:null},{name:"restoreFocusWithoutScroll",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Table",props:{isItemSelectable:{defaultValue:{value:"() => true",computed:!1},required:!1,tsType:{name:"signature",type:"function",raw:"(item: T) => boolean",signature:{arguments:[{name:"item",type:{name:"T"}}],return:{name:"boolean"}}},description:""},loading:{defaultValue:{value:"false",computed:!1},required:!1,tsType:{name:"boolean"},description:""},onSort:{defaultValue:{value:"() => {}",computed:!1},required:!1,tsType:{name:"signature",type:"function",raw:"(params: SortParams) => void",signature:{arguments:[{name:"params",type:{name:"SortParams"}}],return:{name:"void"}}},description:""},onReorder:{defaultValue:{value:"() => {}",computed:!1},required:!1,tsType:{name:"signature",type:"function",raw:"(params: ReorderParams<T>) => void",signature:{arguments:[{name:"params",type:{name:"ReorderParams",elements:[{name:"T"}],raw:"ReorderParams<T>"}}],return:{name:"void"}}},description:""},getItemKey:{defaultValue:{value:"(item: SelectionItem) => item.id",computed:!1},required:!1,tsType:{name:"signature",type:"function",raw:"(item: T) => string | number",signature:{arguments:[{name:"item",type:{name:"T"}}],return:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]}}},description:""},sortKey:{defaultValue:{value:"'id'",computed:!1},required:!1,tsType:{name:"string"},description:""},sortOrder:{defaultValue:{value:"true",computed:!1},required:!1,tsType:{name:"boolean"},description:""},draggable:{defaultValue:{value:"false",computed:!1},required:!1,tsType:{name:"boolean"},description:""},alwaysShowDragHandle:{defaultValue:{value:"false",computed:!1},required:!1,tsType:{name:"boolean"},description:""},stickyHeader:{defaultValue:{value:"true",computed:!1},required:!1,tsType:{name:"boolean"},description:""},getItemLevel:{defaultValue:{value:"() => 0",computed:!1},required:!1,tsType:{name:"signature",type:"function",raw:"(item: T) => number",signature:{arguments:[{name:"item",type:{name:"T"}}],return:{name:"number"}}},description:""},getItemClassName:{defaultValue:{value:"() => null",computed:!1},required:!1,tsType:{name:"signature",type:"function",raw:"(item: T) => string | null | undefined",signature:{arguments:[{name:"item",type:{name:"T"}}],return:{name:"union",raw:"string | null | undefined",elements:[{name:"string"},{name:"null"},{name:"undefined"}]}}},description:""},getMetaColumnClassName:{defaultValue:{value:"() => null",computed:!1},required:!1,tsType:{name:"signature",type:"function",raw:"(item: T) => string | null | undefined",signature:{arguments:[{name:"item",type:{name:"T"}}],return:{name:"union",raw:"string | null | undefined",elements:[{name:"string"},{name:"null"},{name:"undefined"}]}}},description:""},getItemDataTest:{defaultValue:{value:"() => null",computed:!1},required:!1,tsType:{name:"signature",type:"function",raw:"(item: T) => string | null | undefined",signature:{arguments:[{name:"item",type:{name:"T"}}],return:{name:"union",raw:"string | null | undefined",elements:[{name:"string"},{name:"null"},{name:"undefined"}]}}},description:""},isItemCollapsible:{defaultValue:{value:"() => false",computed:!1},required:!1,tsType:{name:"signature",type:"function",raw:"(item: T) => boolean",signature:{arguments:[{name:"item",type:{name:"T"}}],return:{name:"boolean"}}},description:""},isParentCollapsible:{defaultValue:{value:"() => false",computed:!1},required:!1,tsType:{name:"signature",type:"function",raw:"(item: T) => boolean",signature:{arguments:[{name:"item",type:{name:"T"}}],return:{name:"boolean"}}},description:""},isItemCollapsed:{defaultValue:{value:"() => false",computed:!1},required:!1,tsType:{name:"signature",type:"function",raw:"(item: T) => boolean",signature:{arguments:[{name:"item",type:{name:"T"}}],return:{name:"boolean"}}},description:""},onItemCollapse:{defaultValue:{value:"() => {}",computed:!1},required:!1,tsType:{name:"signature",type:"function",raw:"(item: T) => void",signature:{arguments:[{name:"item",type:{name:"T"}}],return:{name:"void"}}},description:""},onItemExpand:{defaultValue:{value:"() => {}",computed:!1},required:!1,tsType:{name:"signature",type:"function",raw:"(item: T) => void",signature:{arguments:[{name:"item",type:{name:"T"}}],return:{name:"void"}}},description:""},onItemDoubleClick:{defaultValue:{value:"() => {}",computed:!1},required:!1,tsType:{name:"signature",type:"function",raw:"(item: T) => void",signature:{arguments:[{name:"item",type:{name:"T"}}],return:{name:"void"}}},description:""},onItemClick:{defaultValue:{value:"() => {}",computed:!1},required:!1,tsType:{name:"signature",type:"function",raw:"(item: T, e: React.MouseEvent<HTMLTableRowElement>) => void",signature:{arguments:[{name:"item",type:{name:"T"}},{name:"e",type:{name:"ReactMouseEvent",raw:"React.MouseEvent<HTMLTableRowElement>",elements:[{name:"HTMLTableRowElement"}]}}],return:{name:"void"}}},description:""},remoteSelection:{defaultValue:{value:"false",computed:!1},required:!1,tsType:{name:"boolean"},description:""},isDisabledSelectionVisible:{defaultValue:{value:"() => false",computed:!1},required:!1,tsType:{name:"signature",type:"function",raw:"(item: T) => boolean",signature:{arguments:[{name:"item",type:{name:"T"}}],return:{name:"boolean"}}},description:""},getCheckboxTooltip:{defaultValue:{value:"() => undefined",computed:!1},required:!1,tsType:{name:"signature",type:"function",raw:"(item: T) => string | undefined",signature:{arguments:[{name:"item",type:{name:"T"}}],return:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]}}},description:""},data:{required:!0,tsType:{name:"unknown"},description:""},columns:{required:!0,tsType:{name:"unknown"},description:""},dragHandleTitle:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"union",raw:"string | null | undefined",elements:[{name:"string"},{name:"null"},{name:"undefined"}]},description:""},loaderClassName:{required:!1,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""},caption:{required:!1,tsType:{name:"union",raw:"string | null | undefined",elements:[{name:"string"},{name:"null"},{name:"undefined"}]},description:""},stickyHeaderOffset:{required:!1,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""},renderEmpty:{required:!1,tsType:{name:"union",raw:"(() => ReactNode) | null | undefined",elements:[{name:"unknown"},{name:"null"},{name:"undefined"}]},description:""}},composes:["FocusSensorAddProps","SelectionShortcutsAddProps","DisableHoverAddProps"]},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/table/table.tsx"]={name:"Table",docgenInfo:Table.__docgenInfo,path:"src/table/table.tsx"}),TableContainer.__docgenInfo={description:"",methods:[],displayName:"TableContainer"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/table/table.tsx"]={name:"TableContainer",docgenInfo:TableContainer.__docgenInfo,path:"src/table/table.tsx"})},"./src/tooltip/tooltip.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>Tooltip});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_popup_popup__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/popup/popup.tsx"),_global_dom__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/global/dom.ts"),_global_data_tests__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/global/data-tests.ts"),_global_schedule_raf__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/global/schedule-raf.ts"),_tooltip_css__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/tooltip/tooltip.css"),_tooltip_css__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_tooltip_css__WEBPACK_IMPORTED_MODULE_2__);function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const scheduleScroll=(0,_global_schedule_raf__WEBPACK_IMPORTED_MODULE_3__.Z)(),TooltipContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(void 0);class Tooltip extends react__WEBPACK_IMPORTED_MODULE_0__.Component{static propTypes={delay:prop_types__WEBPACK_IMPORTED_MODULE_4___default().number,selfOverflowOnly:prop_types__WEBPACK_IMPORTED_MODULE_4___default().bool,popupProps:prop_types__WEBPACK_IMPORTED_MODULE_4___default().object,title:prop_types__WEBPACK_IMPORTED_MODULE_4___default().node,children:prop_types__WEBPACK_IMPORTED_MODULE_4___default().node,"data-test":prop_types__WEBPACK_IMPORTED_MODULE_4___default().string};static defaultProps={title:"",selfOverflowOnly:!1,popupProps:{}};state={showPopup:!1,showNestedPopup:!1};componentDidMount(){this.props.title&&this.addListeners()}componentDidUpdate(prevProps){!prevProps.title&&this.props.title?this.addListeners():prevProps.title&&!this.props.title&&this.listeners.removeAll()}componentWillUnmount(){clearTimeout(this.timeout),this.listeners.removeAll()}static PopupProps=_popup_popup__WEBPACK_IMPORTED_MODULE_5__.default.PopupProps;static contextType=TooltipContext;timeout;listeners=new _global_dom__WEBPACK_IMPORTED_MODULE_6__.zy;containerNode;containerRef=el=>{this.containerNode=el};tryToShowPopup=()=>{const{delay,title}=this.props;title&&(delay?this.timeout=window.setTimeout(this.showPopup,delay):this.showPopup())};showPopup=()=>{if(this.props.selfOverflowOnly){const{containerNode}=this;if(!containerNode)return;if(0===containerNode.clientWidth&&0===containerNode.clientHeight)return;if(containerNode.scrollWidth<=containerNode.clientWidth&&containerNode.scrollHeight<=containerNode.clientHeight)return}this.context?.onNestedTooltipShow(),this.setState({showPopup:!0})};hidePopup=()=>{clearTimeout(this.timeout),this.context?.onNestedTooltipHide(),this.setState({showPopup:!1})};addListeners(){null!=this.containerNode&&(this.listeners.add(this.containerNode,"mouseover",this.tryToShowPopup),this.listeners.add(this.containerNode,"mouseout",this.hidePopup)),this.listeners.add(document,"scroll",(()=>scheduleScroll(this.hidePopup)),{passive:!0})}popup;popupRef=el=>{this.popup=el};onNestedTooltipShow=()=>{this.setState({showNestedPopup:!0})};onNestedTooltipHide=()=>{this.setState({showNestedPopup:!1})};render(){const{children,"data-test":dataTest,title,delay,selfOverflowOnly,popupProps,long,...restProps}=this.props,ariaProps="string"==typeof title&&title?{"aria-label":title,role:"tooltip"}:{},{onNestedTooltipShow,onNestedTooltipHide}=this;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(TooltipContext.Provider,{value:{onNestedTooltipShow,onNestedTooltipHide}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",_extends({},ariaProps,restProps,{ref:this.containerRef,"data-test":(0,_global_data_tests__WEBPACK_IMPORTED_MODULE_7__.Z)("ring-tooltip",dataTest),"data-test-title":"string"==typeof title?title:void 0}),children,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_popup_popup__WEBPACK_IMPORTED_MODULE_5__.default,_extends({trapFocus:!1,hidden:!this.state.showPopup||this.state.showNestedPopup,onCloseAttempt:this.hidePopup,maxHeight:400,className:classnames__WEBPACK_IMPORTED_MODULE_1___default()(_tooltip_css__WEBPACK_IMPORTED_MODULE_2___default().tooltip,{[_tooltip_css__WEBPACK_IMPORTED_MODULE_2___default().long]:long}),attached:!1,top:4,dontCloseOnAnchorClick:!0,ref:this.popupRef},popupProps),title)))}}Tooltip.__docgenInfo={description:"@name Tooltip",methods:[{name:"containerRef",docblock:null,modifiers:[],params:[{name:"el",type:{name:"union",raw:"HTMLElement | null",elements:[{name:"HTMLElement"},{name:"null"}]}}],returns:null},{name:"tryToShowPopup",docblock:null,modifiers:[],params:[],returns:null},{name:"showPopup",docblock:null,modifiers:[],params:[],returns:null},{name:"hidePopup",docblock:null,modifiers:[],params:[],returns:null},{name:"addListeners",docblock:null,modifiers:[],params:[],returns:null},{name:"popupRef",docblock:null,modifiers:[],params:[{name:"el",type:{name:"union",raw:"Popup | null",elements:[{name:"Popup"},{name:"null"}]}}],returns:null},{name:"onNestedTooltipShow",docblock:null,modifiers:[],params:[],returns:null},{name:"onNestedTooltipHide",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Tooltip",props:{title:{defaultValue:{value:"''",computed:!1},type:{name:"node"},required:!1,description:"",tsType:{name:"union",raw:"ReactNode | null | undefined",elements:[{name:"ReactNode"},{name:"null"},{name:"undefined"}]}},selfOverflowOnly:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:"",tsType:{name:"union",raw:"boolean | null | undefined",elements:[{name:"boolean"},{name:"null"},{name:"undefined"}]}},popupProps:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:"",tsType:{name:"union",raw:"Partial<PopupAttrs> | null | undefined",elements:[{name:"Partial",elements:[{name:"PopupAttrs"}],raw:"Partial<PopupAttrs>"},{name:"null"},{name:"undefined"}]}},delay:{type:{name:"number"},required:!1,description:"",tsType:{name:"union",raw:"number | null | undefined",elements:[{name:"number"},{name:"null"},{name:"undefined"}]}},children:{type:{name:"node"},required:!1,description:""},"data-test":{type:{name:"string"},required:!1,description:"",tsType:{name:"union",raw:"string | null | undefined",elements:[{name:"string"},{name:"null"},{name:"undefined"}]}},long:{required:!1,tsType:{name:"union",raw:"boolean | null | undefined",elements:[{name:"boolean"},{name:"null"},{name:"undefined"}]},description:""}},composes:["Omit"]},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/tooltip/tooltip.tsx"]={name:"Tooltip",docgenInfo:Tooltip.__docgenInfo,path:"src/tooltip/tooltip.tsx"})},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[0].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[0].use[2]!./src/tooltip/tooltip.css":(module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__),_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_0_use_1_node_modules_postcss_loader_dist_cjs_js_ruleSet_1_rules_0_use_2_global_global_css__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[0].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[0].use[2]!./src/global/global.css"),_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_0_use_1_node_modules_postcss_loader_dist_cjs_js_ruleSet_1_rules_0_use_2_global_variables_css__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[0].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[0].use[2]!./src/global/variables.css"),___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.i(_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_0_use_1_node_modules_postcss_loader_dist_cjs_js_ruleSet_1_rules_0_use_2_global_variables_css__WEBPACK_IMPORTED_MODULE_3__.default),___CSS_LOADER_EXPORT___.i(_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_0_use_1_node_modules_postcss_loader_dist_cjs_js_ruleSet_1_rules_0_use_2_global_global_css__WEBPACK_IMPORTED_MODULE_2__.default,"",!0),___CSS_LOADER_EXPORT___.push([module.id,".tooltip_bbe9 {\n  max-width: 400px;\n  padding: 8px;\n\n  text-align: left;\n\n  color: var(--ring-text-color);\n}\n\n.long_c327 {\n  padding: 8px 12px;\n\n  font-size: var(--ring-font-size-smaller);\n  line-height: var(--ring-line-height-lowest);\n}\n","",{version:3,sources:["webpack://./src/tooltip/tooltip.css"],names:[],mappings:"AAIA;EACE,gBAA0B;EAC1B,YAAa;;EAEb,gBAAgB;;EAEhB,6BAA6B;AAC/B;;AAEA;EACE,iBAA8B;;EAE9B,wCAAwC;EACxC,2CAA2C;AAC7C",sourcesContent:['@import "../global/variables.css";\n\n@value unit from "../global/global.css";\n\n.tooltip {\n  max-width: calc(unit * 50);\n  padding: unit;\n\n  text-align: left;\n\n  color: var(--ring-text-color);\n}\n\n.long {\n  padding: unit calc(unit * 1.5);\n\n  font-size: var(--ring-font-size-smaller);\n  line-height: var(--ring-line-height-lowest);\n}\n'],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={unit:""+_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_0_use_1_node_modules_postcss_loader_dist_cjs_js_ruleSet_1_rules_0_use_2_global_global_css__WEBPACK_IMPORTED_MODULE_2__.default.locals.unit,tooltip:"tooltip_bbe9",long:"long_c327"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./src/table/table.css":(module,__unused_webpack_exports,__webpack_require__)=>{var API=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),domAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),insertFn=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),setAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),styleTagTransformFn=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[0].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[0].use[2]!./src/table/table.css");content=content.__esModule?content.default:content;var options={};options.styleTagTransform=styleTagTransformFn,options.setAttributes=setAttributes,options.insert=insertFn.bind(null,"head"),options.domAPI=domAPI,options.insertStyleElement=insertStyleElement;API(content,options);module.exports=content&&content.locals||{}},"./src/tooltip/tooltip.css":(module,__unused_webpack_exports,__webpack_require__)=>{var API=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),domAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),insertFn=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),setAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),styleTagTransformFn=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[0].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[0].use[2]!./src/tooltip/tooltip.css");content=content.__esModule?content.default:content;var options={};options.styleTagTransform=styleTagTransformFn,options.setAttributes=setAttributes,options.insert=insertFn.bind(null,"head"),options.domAPI=domAPI,options.insertStyleElement=insertStyleElement;API(content,options);module.exports=content&&content.locals||{}},"./src/table/table.examples.json":module=>{"use strict";module.exports=JSON.parse('[{"id":1,"country":"Russia","city":"Moscow","url":"https://en.wikipedia.org/wiki/Russia","children":[{"id":11,"country":"Tatarstan","city":"Kazan","url":"https://en.wikipedia.org/wiki/Tatarstan"},{"id":12,"country":"Chechnya","city":"Grosniy","url":"https://en.wikipedia.org/wiki/Chechnya"}]},{"id":2,"country":"France","city":"Paris","url":"https://en.wikipedia.org/wiki/France"},{"id":3,"country":"Sweden","city":"Stockholm","url":"https://en.wikipedia.org/wiki/Sweden"},{"id":4,"country":"USA","city":"NYC","url":"https://en.wikipedia.org/wiki/USA","children":[{"id":41,"country":"California","city":"Los Angeles","url":"https://en.wikipedia.org/wiki/California"},{"id":42,"country":"New York","city":"NYC","url":"https://en.wikipedia.org/wiki/New York","children":[{"id":421,"country":"NYC","city":"NYC","url":"https://en.wikipedia.org/wiki/NYC","children":[{"id":4211,"country":"Manhattan","city":"NYC","url":"https://en.wikipedia.org/wiki/Manhattan"},{"id":4212,"country":"Brooklyn","city":"NYC","url":"https://en.wikipedia.org/wiki/Brooklyn"},{"id":4213,"country":"Queens","city":"NYC","url":"https://en.wikipedia.org/wiki/Queens"}]}]},{"id":43,"country":"Texas","city":"Houston","url":"https://en.wikipedia.org/wiki/Texas"}]},{"id":5,"country":"South Africa","city":"Johannesburg","url":"https://en.wikipedia.org/wiki/South Africa"},{"id":6,"country":"Finland","city":"Helsinki","url":"https://en.wikipedia.org/wiki/Finland"},{"id":7,"country":"Latvia","city":"Riga","url":"https://en.wikipedia.org/wiki/Latvia"},{"id":8,"country":"Norway","city":"Oslo","url":"https://en.wikipedia.org/wiki/Norway"},{"id":9,"country":"Brazil","city":"Rio","url":"https://en.wikipedia.org/wiki/Brazil"},{"id":11,"country":"China","city":"Beijing","url":"https://en.wikipedia.org/wiki/China"},{"id":12,"country":"Germany","city":"Berlin","url":"https://en.wikipedia.org/wiki/Germany"},{"id":13,"country":"Luxembourg","city":"Luxembourg","url":"https://en.wikipedia.org/wiki/Luxembourg"},{"id":14,"country":"Belgium","city":"Brussels","url":"http://statbel.fgov.be/fr/statistiques/chiffres/population/structure/natact/beletr/"},{"id":15,"country":"Italy","city":"Rome","url":"https://en.wikipedia.org/wiki/Italy"},{"id":16,"country":"Spain","city":"Madrid","url":"https://en.wikipedia.org/wiki/Spain"},{"id":17,"country":"Portugal","city":"Lisbon","url":"https://en.wikipedia.org/wiki/Portugal"},{"id":18,"country":"Greece","city":"Athens","url":"https://en.wikipedia.org/wiki/Greece"},{"id":19,"country":"Israel","city":"Tel Aviv","url":"https://en.wikipedia.org/wiki/Israel"},{"id":20,"country":"Poland","city":"Warsaw","url":"https://en.wikipedia.org/wiki/Poland"},{"id":21,"country":"Bulgaria","city":"Sofia","url":"https://en.wikipedia.org/wiki/Bulgaria"},{"id":22,"country":"Japan","city":"Tokio","url":"https://en.wikipedia.org/wiki/Japan"},{"id":23,"country":"Thailand","city":"Bangkok","url":"https://en.wikipedia.org/wiki/Thailand"},{"id":24,"country":"Vietnam","city":"Hanoi","url":"https://en.wikipedia.org/wiki/Vietnam"},{"id":25,"country":"Iraq","city":"Baghdad","url":"https://en.wikipedia.org/wiki/Iraq"},{"id":26,"country":"Iran","city":"Tehran","url":"https://en.wikipedia.org/wiki/Iran"},{"id":27,"country":"Syria","city":"Damask","url":"https://en.wikipedia.org/wiki/Syria"},{"id":28,"country":"Turkey","city":"Ankara","url":"https://en.wikipedia.org/wiki/Turkey"},{"id":29,"country":"Australia","city":"Sydney","url":"https://en.wikipedia.org/wiki/Australia"},{"id":30,"country":"UK","city":"London","url":"https://en.wikipedia.org/wiki/UK"},{"id":31,"country":"India","city":"Deli","url":"https://en.wikipedia.org/wiki/India"}]')}}]);
"use strict";(self.webpackChunk_jetbrains_ring_ui=self.webpackChunk_jetbrains_ring_ui||[]).push([[9815],{"./.storybook/react-decorator.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_dom_client__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-dom/client.js"),_storybook_preview_api__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("@storybook/preview-api");const reactDecorator=(StoryFn,context)=>{const node=(0,_storybook_preview_api__WEBPACK_IMPORTED_MODULE_2__.useMemo)((()=>document.createElement("div")),[context.kind,context.name]),root=(0,_storybook_preview_api__WEBPACK_IMPORTED_MODULE_2__.useMemo)((()=>(0,react_dom_client__WEBPACK_IMPORTED_MODULE_1__.createRoot)(node)),[node]);return(0,_storybook_preview_api__WEBPACK_IMPORTED_MODULE_2__.useEffect)((()=>()=>root.unmount()),[root]),root.render(react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.StrictMode,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(StoryFn,null))),node},__WEBPACK_DEFAULT_EXPORT__=()=>reactDecorator},"./src/data-list/data-list.examples.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{basic:()=>basic,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_storybook_react_decorator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./.storybook/react-decorator.tsx"),_data_list__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/data-list/data-list.tsx"),_selection__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/data-list/selection.ts"),_item__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/data-list/item.tsx"),_data_list_mock__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/data-list/data-list.mock.tsx");const __WEBPACK_DEFAULT_EXPORT__={title:"Components/DataList",decorators:[(0,_storybook_react_decorator__WEBPACK_IMPORTED_MODULE_1__.Z)()],parameters:{storySource:{source:"import React, {PureComponent} from 'react';\n\nimport reactDecorator from '../../.storybook/react-decorator';\n\nimport TableSelection from '../table/selection';\n\nimport DataList from './data-list';\nimport Selection from './selection';\nimport {FormattedItem, moreLessButtonStates} from './item';\nimport mock, {Item, moreItems} from './data-list.mock';\n\nexport default {\n  title: 'Components/DataList',\n  decorators: [reactDecorator()],\n\n  parameters: {\n    notes: 'A component for rendering interactive hierarchical tables.'\n  }\n};\n\nexport const basic = () => {\n  class DataListDemo extends PureComponent {\n    // state uses getChildren\n    \n    expandedItems = new Set();\n    isItemCollapsible = (item: Item) => item.collapsible && item.items && Number(item.id) > 10;\n    isItemCollapsed = (item: Item) => !this.expandedItems.has(item.id);\n\n    getChildren = (item: Item) => {\n      const collapsible = this.isItemCollapsible(item);\n      const collapsed = this.isItemCollapsed(item);\n      return (collapsible && collapsed) || !item.items ? [] : item.items;\n    };\n\n    state = {\n      data: mock,\n      selection: new Selection({\n        data: mock,\n        isItemSelectable: item => item.selectable,\n        getChildren: this.getChildren\n      })\n    };\n\n    moreExpandableItems = new Set([mock[0].id]);\n    moreExpandedItems = new Set();\n\n    itemMoreLessState = (item: FormattedItem<Item>) => {\n      if (item.id != null && this.moreExpandableItems.has(item.id)) {\n        return this.moreExpandedItems.has(item.id)\n          ? moreLessButtonStates.LESS\n          : moreLessButtonStates.MORE;\n      } else {\n        return moreLessButtonStates.UNUSED;\n      }\n    };\n\n    onItemMoreLess = (item: Item, more: boolean) => {\n      if (more) {\n        this.moreExpandedItems.add(item.id);\n        item.items = item.items ?? [];\n        item.items = item.items.concat([...moreItems]);\n      } else {\n        this.moreExpandedItems.delete(item.id);\n        item.items = item.items ?? [];\n        item.items = item.items.slice(0, item.items.length - moreItems.length);\n      }\n\n      const data = this.state.data;\n      this.setState({data: [...data]});\n    };\n\n    onSelect = (selection: TableSelection<Item>) => {\n      this.setState({selection});\n    };\n\n    itemFormatter = (item: Item): FormattedItem<Item> => {\n      const items = this.getChildren(item);\n      const collapsible = this.isItemCollapsible(item);\n      const collapsed = this.isItemCollapsed(item);\n\n      const onCollapse = () => {\n        this.expandedItems.delete(item.id);\n        const data = this.state.data;\n        this.setState({data: [...data]});\n      };\n\n      const onExpand = () => {\n        this.expandedItems.add(item.id);\n        const data = this.state.data;\n        this.setState({data: [...data]});\n      };\n\n      return {\n        ...item,\n        items,\n        collapsible,\n        collapsed,\n        onCollapse,\n        onExpand\n      };\n    };\n\n    render() {\n      return (\n        <DataList\n          data={this.state.data}\n          selection={this.state.selection}\n          onSelect={this.onSelect}\n          itemFormatter={this.itemFormatter}\n          onItemMoreLess={this.onItemMoreLess}\n          itemMoreLessState={this.itemMoreLessState}\n        />\n      );\n    }\n  }\n\n  return <DataListDemo/>;\n};\n\nbasic.storyName = 'DataList';\n",locationsMap:{basic:{startLoc:{col:21,line:21},endLoc:{col:1,line:118},startBody:{col:21,line:21},endBody:{col:1,line:118}}}},notes:"A component for rendering interactive hierarchical tables."}},basic=()=>{class DataListDemo extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent{expandedItems=new Set;isItemCollapsible=item=>item.collapsible&&item.items&&Number(item.id)>10;isItemCollapsed=item=>!this.expandedItems.has(item.id);getChildren=item=>{const collapsible=this.isItemCollapsible(item),collapsed=this.isItemCollapsed(item);return collapsible&&collapsed||!item.items?[]:item.items};state={data:_data_list_mock__WEBPACK_IMPORTED_MODULE_2__.Z,selection:new _selection__WEBPACK_IMPORTED_MODULE_3__.Z({data:_data_list_mock__WEBPACK_IMPORTED_MODULE_2__.Z,isItemSelectable:item=>item.selectable,getChildren:this.getChildren})};moreExpandableItems=new Set([_data_list_mock__WEBPACK_IMPORTED_MODULE_2__.Z[0].id]);moreExpandedItems=new Set;itemMoreLessState=item=>null!=item.id&&this.moreExpandableItems.has(item.id)?this.moreExpandedItems.has(item.id)?_item__WEBPACK_IMPORTED_MODULE_4__.H.LESS:_item__WEBPACK_IMPORTED_MODULE_4__.H.MORE:_item__WEBPACK_IMPORTED_MODULE_4__.H.UNUSED;onItemMoreLess=(item,more)=>{var _item$items,_item$items2;more?(this.moreExpandedItems.add(item.id),item.items=null!==(_item$items=item.items)&&void 0!==_item$items?_item$items:[],item.items=item.items.concat([..._data_list_mock__WEBPACK_IMPORTED_MODULE_2__.d])):(this.moreExpandedItems.delete(item.id),item.items=null!==(_item$items2=item.items)&&void 0!==_item$items2?_item$items2:[],item.items=item.items.slice(0,item.items.length-_data_list_mock__WEBPACK_IMPORTED_MODULE_2__.d.length));const data=this.state.data;this.setState({data:[...data]})};onSelect=selection=>{this.setState({selection})};itemFormatter=item=>{const items=this.getChildren(item),collapsible=this.isItemCollapsible(item),collapsed=this.isItemCollapsed(item);return{...item,items,collapsible,collapsed,onCollapse:()=>{this.expandedItems.delete(item.id);const data=this.state.data;this.setState({data:[...data]})},onExpand:()=>{this.expandedItems.add(item.id);const data=this.state.data;this.setState({data:[...data]})}}};render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_data_list__WEBPACK_IMPORTED_MODULE_5__.Z,{data:this.state.data,selection:this.state.selection,onSelect:this.onSelect,itemFormatter:this.itemFormatter,onItemMoreLess:this.onItemMoreLess,itemMoreLessState:this.itemMoreLessState})}}return react__WEBPACK_IMPORTED_MODULE_0__.createElement(DataListDemo,null)};basic.storyName="DataList",basic.__docgenInfo={description:"",methods:[],displayName:"basic"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/data-list/data-list.examples.tsx"]={name:"basic",docgenInfo:basic.__docgenInfo,path:"src/data-list/data-list.examples.tsx"})}}]);